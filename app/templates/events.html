{% extends 'base.html' %}
{% block content %}
   
    <div class="row-fluid">
      <h3>Pet Tracker: Events</h3>
      {% if error %}
        <div class="error">{{ error }}</div>
      {% endif %}
      {% if created %}
        <div style="background-color: #d4edda; color: #155724; padding: 12px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #28a745;">
          Event created successfully!
        </div>
      {% endif %}
      <div>
        <form action="/events/new" method="get" class="new-event">
          <button type="submit" aria-label="Add new event">Add Event</button>
        </form>
      </div>
      <table role="table" aria-label="Events table">
        <thead>
          <tr>
            <th scope="col">Type</th>
            <th scope="col">Pet</th>
            <th scope="col">Meta</th>
            <th scope="col">Time</th>
          </tr>
        </thead>
        <tbody>
        {% for event in events %}
          <tr>
            <td>
              <img src="/assets/{{ event['type'] }}Icon.svg" alt="{{ event['type'] }}" title="{{ event['type'] }}" aria-label="{{ event['type'] }} event type icon" style="width: 50px; height: 50px; vertical-align: middle;" />
            </td>
            <td>
              {%if event['pet-name'] %}
                <img src="{{ event['pet-icon'] }}" alt="{{ event['pet-name'] }}" title="{{ event['pet-name'] }}" aria-label="{{ event['pet-name'] }} pet icon" style="width: 50px; height: 50px; vertical-align: middle;" />
              {% endif %}
            </td>
            <td>
              {%if event['meta'] %}
                {{ event['meta'] }}
              {% endif %}
            </td>
            <td>
              {{ event['time_ago'] }}
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>

{% endblock %}