{% extends 'base.html' %}
{% block content %}
   
    <div class="row-fluid">
      <h3>Pet Tracker: Events</h3>
      {% if error %}
        <div class="error">{{ error }}</div>
      {% endif %}
      {% if created %}
        <div style="background-color: #d4edda; color: #155724; padding: 12px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #28a745;">
          Event created successfully!
        </div>
      {% endif %}
      <div>
        <form action="/events/new" method="get" class="new-event">
          <button>Add Event</button>
        </form>
      </div>
      <table>
        <tr>
          <th>Type</th>
          <th>Pet</th>
          <th>Meta</th>
          <th>Timestamp</th>
        </tr>
        {% for event in events %}
          <tr>
            <td>
              <img src="/assets/{{ event['type'] }}Icon.svg" alt="{{ event['type'] }}" style="width: 50px; height: 50px; vertical-align: middle;" />
            </td>
            <td>
              {%if event['pet-name'] %}
                <img src="/{{ event['pet-icon'] }}" alt="{{ event['pet-name'] }}" style="width: 50px; height: 50px; vertical-align: middle;" />
              {% endif %}
            </td>
            <td>
              {{ event['meta'] }}
            </td>
            <td>
              {{ event['timestamp'] }}
            </td>
          </tr>
        {% endfor %}
      </table>
    </div>

{% endblock %}